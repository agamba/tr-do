<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>WinMTRNet Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>WinMTRNet Class Reference</h1><!-- doxytag: class="WinMTRNet" --><code>#include &lt;<a class="el" href="net_8h-source.html">net.h</a>&gt;</code>
<p>

<p>
<a href="classWinMTRNet-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#ac7beed52d6d2d07cbc139a76ce8e3c2">Preopen</a> (<a class="el" href="classWinMTRDialog.html">WinMTRDialog</a> *wp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#98e9dd94f9400ea00c547669a9386fdc">Open</a> (int address, int laddress)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f6c26d1d63cf2526d51e02b3e5b48ab5"></a><!-- doxytag: member="WinMTRNet::Reset" ref="f6c26d1d63cf2526d51e02b3e5b48ab5" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#f6c26d1d63cf2526d51e02b3e5b48ab5">Reset</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">(re)-initialize all saved state <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2aa4e6997c3b72ac438ee51319cba58c"></a><!-- doxytag: member="WinMTRNet::Close" ref="2aa4e6997c3b72ac438ee51319cba58c" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#2aa4e6997c3b72ac438ee51319cba58c">Close</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">close open socket(s) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#81d1b9da7ce2c49d0b073c2413f4a564">GetWaitFd</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">return the file descriptor for the receive socket.  <a href="#81d1b9da7ce2c49d0b073c2413f4a564"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2a8bea7d104e21a2f2b31e1356d6106c"></a><!-- doxytag: member="WinMTRNet::ProcessReturn" ref="2a8bea7d104e21a2f2b31e1356d6106c" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#2a8bea7d104e21a2f2b31e1356d6106c">ProcessReturn</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">invoked when a packet is available on the receive socket <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="35ef2e019fefa5340dfc9e3ed06a971c"></a><!-- doxytag: member="WinMTRNet::GetLast" ref="35ef2e019fefa5340dfc9e3ed06a971c" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetLast</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9ce911108cef6d446f03dac073b1943d"></a><!-- doxytag: member="WinMTRNet::GetMax" ref="9ce911108cef6d446f03dac073b1943d" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetMax</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cb49abde3ba55593637f645ef3f533e1"></a><!-- doxytag: member="WinMTRNet::GetAddr" ref="cb49abde3ba55593637f645ef3f533e1" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetAddr</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c8ea3d1edd080552a09f889f56ec97e9"></a><!-- doxytag: member="WinMTRNet::GetConsistency" ref="c8ea3d1edd080552a09f889f56ec97e9" args="(int at)" -->
const char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetConsistency</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e1023a4eaa5e77dd1edaf93995f40a14"></a><!-- doxytag: member="WinMTRNet::FmtAddr" ref="e1023a4eaa5e77dd1edaf93995f40a14" args="(int at, char *n)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>FmtAddr</b> (int at, char *n)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f8623a681e57a00b21d33933b84c58b1"></a><!-- doxytag: member="WinMTRNet::GetName" ref="f8623a681e57a00b21d33933b84c58b1" args="(int at, char *n)" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetName</b> (int at, char *n)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d637e2e67d0250620c1476fabda81eb0"></a><!-- doxytag: member="WinMTRNet::SetName" ref="d637e2e67d0250620c1476fabda81eb0" args="(int at, char *n)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><b>SetName</b> (int at, char *n)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="05722cf863d2ae5f535daad300d78c41"></a><!-- doxytag: member="WinMTRNet::GetPercent" ref="05722cf863d2ae5f535daad300d78c41" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetPercent</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="eb3de00d68ad47df69bbe2789516c2e8"></a><!-- doxytag: member="WinMTRNet::GetBest" ref="eb3de00d68ad47df69bbe2789516c2e8" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetBest</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dbb2bb5b5cd882d6a0aed7ce7c2e13b7"></a><!-- doxytag: member="WinMTRNet::GetWorst" ref="dbb2bb5b5cd882d6a0aed7ce7c2e13b7" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetWorst</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c61a4bb5633cc2dcf26cfc606b1e6ccf"></a><!-- doxytag: member="WinMTRNet::GetAvg" ref="c61a4bb5633cc2dcf26cfc606b1e6ccf" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetAvg</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#f12b703c5d313be05f98316c720ce808">SendBatch</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c07a4aa12873781e06b03d9282ccc84b"></a><!-- doxytag: member="WinMTRNet::EndTransit" ref="c07a4aa12873781e06b03d9282ccc84b" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#c07a4aa12873781e06b03d9282ccc84b">EndTransit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">mark all entries in host table as completed (no longer in transit) <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e5b56522d653d3f3478da67e28fa8027"></a><!-- doxytag: member="WinMTRNet::CalcDeltatime" ref="e5b56522d653d3f3478da67e28fa8027" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#e5b56522d653d3f3478da67e28fa8027">CalcDeltatime</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">calculate Deltatime? as the WaitTime divided by numhosts, in microseconds <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2fcd7c0312f298e0bff9fb38e04436ee"></a><!-- doxytag: member="WinMTRNet::GetReturned" ref="2fcd7c0312f298e0bff9fb38e04436ee" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetReturned</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5861925957509eb4d204170a735d71c7"></a><!-- doxytag: member="WinMTRNet::GetXmit" ref="5861925957509eb4d204170a735d71c7" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetXmit</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="94d93285a666841e088bf53d9de05389"></a><!-- doxytag: member="WinMTRNet::GetTransit" ref="94d93285a666841e088bf53d9de05389" args="(int at)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetTransit</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="73d2f412eaf1fa078e64e5dca184a314"></a><!-- doxytag: member="WinMTRNet::GetSavedPings" ref="73d2f412eaf1fa078e64e5dca184a314" args="(int at)" -->
int *&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetSavedPings</b> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cf30bb1acb859892bc02021c36f79868"></a><!-- doxytag: member="WinMTRNet::GetNumHosts" ref="cf30bb1acb859892bc02021c36f79868" args="()" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>GetNumHosts</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="708e722ceb3e03a1df35d7440cf6c41d"></a><!-- doxytag: member="WinMTRNet::FullLoop" ref="708e722ceb3e03a1df35d7440cf6c41d" args="()" -->
BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><b>FullLoop</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#1c19487407ac366b7f5f07bf78b183d6">SaveXmit</a> (int at)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinMTRNet.html#7d99bed3982761bdcaea919af7c84e18">SaveReturn</a> (int at, int seq, int ms)</td></tr>

<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8c6600f47b901d17e3c1b755aaf494de"></a><!-- doxytag: member="WinMTRNet::WaitTime" ref="8c6600f47b901d17e3c1b755aaf494de" args="" -->
float&nbsp;</td><td class="memItemRight" valign="bottom"><b>WaitTime</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="19a20d73e232c23259674d095c5437ec"></a><!-- doxytag: member="WinMTRNet::wmtrdlg" ref="19a20d73e232c23259674d095c5437ec" args="" -->
<a class="el" href="classWinMTRDialog.html">WinMTRDialog</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>wmtrdlg</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Network operations <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="ac7beed52d6d2d07cbc139a76ce8e3c2"></a><!-- doxytag: member="WinMTRNet::Preopen" ref="ac7beed52d6d2d07cbc139a76ce8e3c2" args="(WinMTRDialog *wp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WinMTRNet::Preopen           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classWinMTRDialog.html">WinMTRDialog</a> *&nbsp;</td>
          <td class="paramname"> <em>wp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
initialization <dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 if unable to set up socket, otherwise 0 </dd></dl>

</div>
</div><p>
<a class="anchor" name="98e9dd94f9400ea00c547669a9386fdc"></a><!-- doxytag: member="WinMTRNet::Open" ref="98e9dd94f9400ea00c547669a9386fdc" args="(int address, int laddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WinMTRNet::Open           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>laddress</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
reset all saved state and set local and remote addresses <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>is where we are tracerouting to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>laddress</em>&nbsp;</td><td>is our local IP address </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>always 0 </dd></dl>
<dl compact><dt><b><a class="el" href="todo.html#_todo000005">Todo:</a></b></dt><dd>{ make this void } </dd></dl>

</div>
</div><p>
<a class="anchor" name="81d1b9da7ce2c49d0b073c2413f4a564"></a><!-- doxytag: member="WinMTRNet::GetWaitFd" ref="81d1b9da7ce2c49d0b073c2413f4a564" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WinMTRNet::GetWaitFd           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
return the file descriptor for the receive socket. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd>PingThread </dd></dl>

</div>
</div><p>
<a class="anchor" name="f12b703c5d313be05f98316c720ce808"></a><!-- doxytag: member="WinMTRNet::SendBatch" ref="f12b703c5d313be05f98316c720ce808" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WinMTRNet::SendBatch           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
send one ping probe in the current batch <dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if we are at the end of the batch</dd></dl>
Send a ping in the current batch, and then decide if we are at the end of the batch. Each batch consists of a run of pings with ascending Time To Live (TTL) values, and goes until there is heuristic evidence that the destination host is going to be reached, or that a suitably large run of non-responses will have been encountered, or the TTL value has reached the maximum limit. 
</div>
</div><p>
<a class="anchor" name="1c19487407ac366b7f5f07bf78b183d6"></a><!-- doxytag: member="WinMTRNet::SaveXmit" ref="1c19487407ac366b7f5f07bf78b183d6" args="(int at)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WinMTRNet::SaveXmit           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>at</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
reserve a free entry at the end of the RTT saved table <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>at</em>&nbsp;</td><td>is the hop count (TTL-1) starting at 0 </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7d99bed3982761bdcaea919af7c84e18"></a><!-- doxytag: member="WinMTRNet::SaveReturn" ref="7d99bed3982761bdcaea919af7c84e18" args="(int at, int seq, int ms)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WinMTRNet::SaveReturn           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>at</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ms</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
save a Round Trip Time <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>at</em>&nbsp;</td><td>is the 0-based hop count (varies fastest) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq</em>&nbsp;</td><td>is which batch of pings is being done (varies slowest) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ms</em>&nbsp;</td><td>is the Round Trip Time in microseconds </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="net_8h-source.html">net.h</a><li>net.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jan 4 20:57:13 2010 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
